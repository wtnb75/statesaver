<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>{{.Title}}</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
        <script src="https://pfau-software.de/json-viewer/dist/iife/index.js"></script>
        <style>
            abbr[title] {
                text-decoration: none;
                border: none;
                cursor: pointer;
            }
        </style>
    </head>
    <body>
        <ul class="nav nav-tabs">
            <li class="nav-item"><a href="{{.basepath}}" class="nav-link">üè†</a></li>
            {{- range $h := .history}}
                {{- $mark := ""}}
                {{- if $h.Locked}}
                    {{- $mark = "*"}}
                {{- end}}
                {{- if (or (and (eq $.name "") $h.Locked) (eq $.name $h.Name))}}
                <li class="nav-item"><a href="{{$.basepath}}view/{{$.file}}?history={{$h.Name}}" class="nav-link active" aria-current="page">{{$mark}}{{mytime $h.Timestamp}} ({{mybytes .Size}})</a></li>
                {{- else}}
                <li class="nav-item"><a href="{{$.basepath}}view/{{$.file}}?history={{$h.Name}}" class="nav-link">{{$mark}}{{mytime $h.Timestamp}} ({{mybytes $h.Size}})</a></li>
                {{- end}}
            {{- end}}
        </ul>
        <div class="p-2">
            <andypf-json-viewer expanded="3" theme="monokai" id="output">{{toJson .data}}</andypf-json-viewer>
        </div>
    </body>
</html>
